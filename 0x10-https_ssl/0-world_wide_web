#!/bin/bash

# Function to get the DNS record for a given subdomain
get_record() {
    local domain=$1
    local subdomain=$2
    record=$(dig +short $subdomain.$domain)
    if [ -z "$record" ]; then
        echo "The subdomain $subdomain does not exist for domain $domain"
        return
    fi
    record_type=$(dig $subdomain.$domain | awk '/IN/ {print $4; exit}')
    destination=$(dig +short $subdomain.$domain)
    echo "The subdomain $subdomain is a $record_type record and points to $destination"
}

# Check if the domain argument is provided
if [ -z "$1" ]; then
    echo "Usage: $0 domain [subdomain]"
    exit 1
fi

domain=$1
subdomain=$2

# List of default subdomains
default_subdomains=("www" "lb-01" "web-01" "web-02")

# If a specific subdomain is provided
if [ -n "$subdomain" ]; then
    get_record $domain $subdomain
else
    # Display information for default subdomains
    for sub in "${default_subdomains[@]}"; do
        get_record $domain $sub
    done
fi
